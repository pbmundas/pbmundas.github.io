<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prasanna Mundas - Kali Linux Terminal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DejaVu+Sans+Mono&display=swap');

        body {
            margin: 0;
            padding: 0;
            background-color: #1a1a1a;
            color: #ffffff;
            font-family: 'DejaVu Sans Mono', 'Courier New', monospace;
            font-size: 14px;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        #container {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
        }

        #terminal-container {
            width: 50%;
            height: 100vh;
            padding: 10px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            min-width: 200px;
        }

        #terminal {
            flex-grow: 1;
            padding: 10px;
            background: linear-gradient(rgba(46, 52, 54, 0.7), rgba(46, 52, 54, 0.7)), 
                        url('https://raw.githubusercontent.com/pbmundas/pbmundas.github.io/refs/heads/main/Prasannamundaskali.png') no-repeat center center;
            background-size: cover;
            border: 2px solid #4f5b62;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            overflow-y: auto;
            overflow-x: hidden;
            word-wrap: break-word;
            word-break: break-all;
            position: relative;
        }

        #terminal-header {
            background-color: #555753;
            color: #ffffff;
            padding: 5px 10px;
            font-size: 12px;
            border-bottom: 1px solid #4f5b62;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #terminal-header span {
            font-weight: bold;
        }

        #terminal-header .window-controls {
            display: flex;
            gap: 5px;
        }

        #terminal-header .window-controls div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .close { background-color: #ff5555; }
        .minimize { background-color: #ffaa00; }
        .maximize { background-color: #00ff00; }

        #image-container {
            width: 50%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000000;
            overflow: hidden;
            min-width: 200px;
        }

        #image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        #divider {
            width: 5px;
            background-color: #4f5b62;
            cursor: ew-resize;
            height: 100%;
            position: absolute;
            left: 50%;
            z-index: 10;
        }

        #output {
            white-space: pre-wrap;
            line-height: 1.4;
            margin-bottom: 10px;
            color: #ffffff;
            word-wrap: break-word;
            word-break: break-all;
        }

        #input-line {
            display: flex;
            align-items: center;
            margin: 0;
            min-width: 0;
        }

        #prompt {
            color: #00ff00;
            white-space: pre;
            flex-shrink: 0;
        }

        #command {
            background: transparent;
            border: none;
            color: #ffffff;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            flex-grow: 1;
            caret-color: #ffffff;
            min-width: 0;
        }

        #command::placeholder {
            color: #808080;
        }

        .error {
            color: #ff5555;
        }

        .success {
            color: #00ff00;
        }

        .info {
            color: #00ffff;
        }

        .link {
            color: #ff00ff;
            text-decoration: underline;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="terminal-container">
            <div id="terminal-header">
                <span>kali@kali: Terminal</span>
                <div class="window-controls">
                    <div class="close"></div>
                    <div class="minimize"></div>
                    <div class="maximize"></div>
                </div>
            </div>
            <div id="terminal">
                <div id="output">
┌──(kali㉿kali)-[~]
└─$ Welcome to Kali Linux Terminal Emulator!

Type 'help' for available commands.
                </div>
                <div id="input-line">
                    <span id="prompt">┌──(kali㉿kali)-[~]
└─$ </span>
                    <input type="text" id="command" autofocus placeholder="">
                </div>
            </div>
        </div>
        <div id="divider"></div>
        <div id="image-container">
            <img src="https://raw.githubusercontent.com/pbmundas/pbmundas.github.io/refs/heads/main/Prasannamundaskali.png" alt="Prasanna Mundas Image">
        </div>
    </div>

    <script>
        // Simulated filesystem
        let filesystem = {
            '/home/kali': {
                type: 'dir',
                contents: {
                    'Desktop': { type: 'dir', contents: {} },
                    'Documents': { type: 'dir', contents: {} },
                    'Downloads': { type: 'dir', contents: {} },
                    'Music': { type: 'dir', contents: {} },
                    'Pictures': { type: 'dir', contents: {} },
                    'Templates': { type: 'dir', contents: {} },
                    'Videos': { type: 'dir', contents: {} },
                    '.bash_logout': { type: 'file', contents: 'Logout script' },
                    '.bashrc': { type: 'file', contents: 'Bash configuration' },
                    '.profile': { type: 'file', contents: 'User profile' }
                }
            }
        };
        let currentPath = '/home/kali';

        // Helper function to resolve path
        function resolvePath(path) {
            if (!path) return currentPath;
            let absolute = path.startsWith('/') ? path : `${currentPath}/${path}`;
            absolute = absolute.replace(/\/+/g, '/').replace(/\/$/, '');
            if (absolute === '') absolute = '/';
            return absolute;
        }

        // Helper function to get directory at path
        function getDir(path) {
            const parts = resolvePath(path).split('/').filter(p => p);
            let dir = filesystem;
            if (path === '/') return dir;
            for (let part of parts) {
                dir = dir['/home/kali']?.contents || dir;
                if (dir[part]?.type === 'dir') {
                    dir = dir[part].contents;
                } else {
                    return null;
                }
            }
            return dir;
        }

        // Command registry
        const commands = {
            'help': () => {
                return `Available commands:
  help     - Show this help message
  ls       - List directory contents
  cd       - Change directory
  pwd      - Print working directory
  whoami   - Display current user
  echo     - Print arguments
  clear    - Clear the terminal screen
  date     - Show current date
  exit     - Exit the terminal (reloads page)
  
Link commands:
  attacks
  hunting
  playbooks
  blog     
  linkedin 
  whatsapp 
  website  
  mobile   
  
            },
            'ls': (args) => {
                const dir = getDir(args[0] || currentPath);
                if (!dir) return `[-] ls: cannot access '${args[0] || currentPath}': No such file or directory`;
                if (args[0] === '-l') {
                    let output = 'total 48\n';
                    const entries = Object.entries(filesystem['/home/kali'].contents);
                    entries.forEach(([name, info]) => {
                        const type = info.type === 'dir' ? 'drwxr-xr-x' : '-rw-r--r--';
                        output += `${type}  1 kali kali  4096 Sep 12 10:00 ${name}\n`;
                    });
                    return output;
                }
                return Object.keys(dir).join('  ');
            },
            'cd': (args) => {
                const target = args[0] || '/home/kali';
                const resolvedPath = resolvePath(target);
                if (resolvedPath === '/home/kali' || getDir(resolvedPath)) {
                    currentPath = resolvedPath;
                    document.getElementById('prompt').innerText = `┌──(kali㉿kali)-[${currentPath.replace('/home/kali', '~')}]\n└─$ `;
                    return '';
                }
                return `[-] cd: ${target}: No such file or directory`;
            },
            'pwd': () => currentPath,
            'whoami': () => {
                window.open('https://www.linkedin.com/in/prasannamundas/', '_blank');
                return ``;
            },
            'echo': (args) => args.join(' '),
            'clear': () => {
                document.getElementById('output').innerHTML = '';
                return '';
            },
            'date': () => new Date().toString(),
            'exit': () => {
                if (confirm('Exit terminal? This will reload the page.')) {
                    location.reload();
                }
                return '';
            },
            'cat': (args) => {
                if (!args[0]) {
                    return `[-] cat: missing file operand\nTry 'cat --help' for more information.`;
                }
                const path = resolvePath(args[0]);
                const parts = path.split('/').filter(p => p);
                let dir = filesystem;
                let fileName = parts.pop();
                for (let part of parts) {
                    dir = dir['/home/kali']?.contents || dir;
                    if (dir[part]?.type === 'dir') {
                        dir = dir[part].contents;
                    } else {
                        return `[-] cat: ${args[0]}: No such file or directory`;
                    }
                }
                if (dir[fileName]?.type === 'file') {
                    return dir[fileName].contents;
                }
                return `[-] cat: ${args[0]}: No such file or directory`;
            },
            'grep': (args) => {
                if (args.length < 2) {
                    return `[-] grep: missing pattern or file\nUsage: grep [PATTERN] [FILE]`;
                }
                const path = resolvePath(args[1]);
                const parts = path.split('/').filter(p => p);
                let dir = filesystem;
                let fileName = parts.pop();
                for (let part of parts) {
                    dir = dir['/home/kali']?.contents || dir;
                    if (dir[part]?.type === 'dir') {
                        dir = dir[part].contents;
                    } else {
                        return `[-] grep: ${args[1]}: No such file or directory`;
                    }
                }
                if (dir[fileName]?.type === 'file') {
                    return `Found: ${args[0]} in ${args[1]}`;
                }
                return `[-] grep: ${args[1]}: No such file or directory`;
            },
            'sudo': (args) => {
                if (!args[0]) {
                    return `[-] sudo: missing command\nUsage: sudo [COMMAND]`;
                }
                if (commands[args[0]]) {
                    return `[sudo] running as root: ${args[0]}\n${commands[args[0]](args.slice(1))}`;
                }
                return `[-] sudo: ${args[0]}: command not found`;
            },
            'mkdir': (args) => {
                if (!args[0]) {
                    return `[-] mkdir: missing operand\nUsage: mkdir [DIRECTORY]`;
                }
                const path = resolvePath(args[0]);
                const parts = path.split('/').filter(p => p);
                let dir = filesystem;
                let newDir = parts.pop();
                for (let part of parts) {
                    dir = dir['/home/kali']?.contents || dir;
                    if (dir[part]?.type === 'dir') {
                        dir = dir[part].contents;
                    } else {
                        return `[-] mkdir: cannot create directory '${args[0]}': No such file or directory`;
                    }
                }
                if (dir[newDir]) {
                    return `[-] mkdir: cannot create directory '${args[0]}': File exists`;
                }
                dir[newDir] = { type: 'dir', contents: {} };
                return '';
            },
            'rm': (args) => {
                if (!args[0]) {
                    return `[-] rm: missing operand\nUsage: rm [FILE/DIRECTORY]`;
                }
                const path = resolvePath(args[0]);
                const parts = path.split('/').filter(p => p);
                let dir = filesystem;
                let target = parts.pop();
                for (let part of parts) {
                    dir = dir['/home/kali']?.contents || dir;
                    if (dir[part]?.type === 'dir') {
                        dir = dir[part].contents;
                    } else {
                        return `[-] rm: cannot remove '${args[0]}': No such file or directory`;
                    }
                }
                if (dir[target]) {
                    delete dir[target];
                    return '';
                }
                return `[-] rm: cannot remove '${args[0]}': No such file or directory`;
            },
            'touch': (args) => {
                if (!args[0]) {
                    return `[-] touch: missing file operand\nUsage: touch [FILE]`;
                }
                const path = resolvePath(args[0]);
                const parts = path.split('/').filter(p => p);
                let dir = filesystem;
                let fileName = parts.pop();
                for (let part of parts) {
                    dir = dir['/home/kali']?.contents || dir;
                    if (dir[part]?.type === 'dir') {
                        dir = dir[part].contents;
                    } else {
                        return `[-] touch: cannot touch '${args[0]}': No such file or directory`;
                    }
                }
                if (dir[fileName]) {
                    return '';
                }
                dir[fileName] = { type: 'file', contents: '' };
                return '';
            },
            'mv': (args) => {
                if (args.length < 2) {
                    return `[-] mv: missing source or destination\nUsage: mv [SOURCE] [DESTINATION]`;
                }
                const srcPath = resolvePath(args[0]);
                const destPath = resolvePath(args[1]);
                const srcParts = srcPath.split('/').filter(p => p);
                const destParts = destPath.split('/').filter(p => p);
                let srcDir = filesystem;
                let destDir = filesystem;
                let srcName = srcParts.pop();
                let destName = destParts.pop();
                for (let part of srcParts) {
                    srcDir = srcDir['/home/kali']?.contents || srcDir;
                    if (srcDir[part]?.type === 'dir') {
                        srcDir = srcDir[part].contents;
                    } else {
                        return `[-] mv: cannot move '${args[0]}': No such file or directory`;
                    }
                }
                for (let part of destParts) {
                    destDir = destDir['/home/kali']?.contents || destDir;
                    if (destDir[part]?.type === 'dir') {
                        destDir = destDir[part].contents;
                    } else {
                        return `[-] mv: cannot move to '${args[1]}': No such file or directory`;
                    }
                }
                if (srcDir[srcName]) {
                    destDir[destName] = srcDir[srcName];
                    delete srcDir[srcName];
                    return '';
                }
                return `[-] mv: cannot move '${args[0]}': No such file or directory`;
            },
            'cp': (args) => {
                if (args.length < 2) {
                    return `[-] cp: missing source or destination\nUsage: cp [SOURCE] [DESTINATION]`;
                }
                const srcPath = resolvePath(args[0]);
                const destPath = resolvePath(args[1]);
                const srcParts = srcPath.split('/').filter(p => p);
                const destParts = destPath.split('/').filter(p => p);
                let srcDir = filesystem;
                let destDir = filesystem;
                let srcName = srcParts.pop();
                let destName = destParts.pop();
                for (let part of srcParts) {
                    srcDir = srcDir['/home/kali']?.contents || srcDir;
                    if (srcDir[part]?.type === 'dir') {
                        srcDir = srcDir[part].contents;
                    } else {
                        return `[-] cp: cannot copy '${args[0]}': No such file or directory`;
                    }
                }
                for (let part of destParts) {
                    destDir = destDir['/home/kali']?.contents || destDir;
                    if (destDir[part]?.type === 'dir') {
                        destDir = destDir[part].contents;
                    } else {
                        return `[-] cp: cannot copy to '${args[1]}': No such file or directory`;
                    }
                }
                if (srcDir[srcName]) {
                    destDir[destName] = JSON.parse(JSON.stringify(srcDir[srcName])); // Deep copy
                    return '';
                }
                return `[-] cp: cannot copy '${args[0]}': No such file or directory`;
            },
            'man': (args) => {
                if (!args[0]) {
                    return `[-] man: missing command\nUsage: man [COMMAND]`;
                }
                if (commands[args[0]]) {
                    return `MANUAL FOR ${args[0].toUpperCase()}
NAME
  ${args[0]} - Simulated command in Kali Linux emulator

DESCRIPTION
  This is a simulated version of the ${args[0]} command.
  Use 'help' for more details or try the command directly.`;
                }
                return `[-] man: no manual entry for ${args[0]}`;
            },
            'nmap': (args) => {
                if (!args[0]) {
                    return `[-] nmap: missing target\nUsage: nmap [Scan Type] [Options] {target specification}\nExample: nmap 192.168.1.1`;
                }
                return `Starting Nmap 7.94 ( https://nmap.org ) at ${new Date().toISOString()}
Nmap scan report for ${args[0]}
Host is up (0.0023s latency).
PORT    STATE  SERVICE
22/tcp  open   ssh
80/tcp  open   http
443/tcp open   https
Nmap done: 1 IP address (1 host up) scanned in 0.06 seconds`;
            },
            'metasploit': () => {
                window.open('https://www.metasploit.com/', '_blank');
                return `Launching Metasploit Framework...\nOpening Metasploit documentation in new tab.`;
            },
            'hydra': (args) => {
                if (!args[0]) {
                    return `[-] hydra: missing parameters\nUsage: hydra [options] target service`;
                }
                return `hydra v9.5 (c) 2023 by van Hauser/THC
Hydra starting password attack on ${args[0]}...
[INFO] Simulated attack complete. Use real Hydra in a Kali environment.`;
            },
            'sqlmap': (args) => {
                if (!args[0]) {
                    return `[-] sqlmap: missing URL\nUsage: sqlmap -u URL [options]`;
                }
                return `sqlmap/1.9.9 - automated tool for SQL injection
[*] starting at ${new Date().toISOString()}
[INFO] testing URL: ${args[0]}
[INFO] Simulated SQL injection test complete. Use real sqlmap in Kali.`;
            },
            'aircrack-ng': (args) => {
                if (!args[0]) {
                    return `[-] aircrack-ng: missing parameters\nUsage: aircrack-ng [options] <capture file>`;
                }
                return `Aircrack-ng 1.7
[00:00:01] Tested 1000 keys (got 100 IVs)
KEY FOUND! [ Simulated:WiFi:Key123 ]
Use real aircrack-ng in a Kali environment.`;
            },
            'attacks': () => {
                window.open('https://pbmundas.github.io/know-attacks-history/', '_blank');
                return `Opening Attack Navigator in new tab...`;
            },
            'hunting': () => {
                window.open('https://github.com/pbmundas/Threat-Hunting/', '_blank');
                return `Opening Threat Hunting in new tab...`;
            },
            'playbooks': () => {
                window.open('https://github.com/pbmundas/SOC-Investigation-Playbooks-for-Mitre-Techniques', '_blank');
                return `Opening Playbooks in new tab...`;
            },
            'blog': () => {
                window.open('https://blueteaming.wordpress.com', '_blank');
                return `Opening blog in new tab...`;
            },
            'linkedin': () => {
                window.open('https://www.linkedin.com/in/prasannamundas/', '_blank');
                return `Opening LinkedIn profile in new tab...`;
            },
            'whatsapp': () => {
                window.open('https://api.whatsapp.com/send/?phone=919886120777&text=Hello%20Prasanna&type=phone_number&app_absent=0', '_blank');
                return `Opening WhatsApp Web in new tab...`;
            },
            'website': () => {
                window.open('https://pbmundas.github.io', '_blank');
                return `Opening personal website in new tab...`;
            },
            'mobile': () => {
                return `Contact: +1-9886120777 (Click to call via tel: link if on mobile)
<a href="tel:+919886120777" class="link">Click here to call</a>`;
            }
        };

        // Command history
        let commandHistory = [];
        let historyIndex = -1;

        function addCommand(name, func) {
            if (typeof func !== 'function') {
                throw new Error('Custom command must be a function that takes args array and returns output string.');
            }
            commands[name] = func;
            appendToOutput(`Custom command '${name}' added successfully.`, 'success');
        }

        function appendToOutput(text, className = '') {
            const output = document.getElementById('output');
            const line = document.createElement('div');
            line.className = className;
            line.innerHTML = text;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        // Tab completion helper
        function getTabCompletion(input) {
            const availableCommands = Object.keys(commands);
            return availableCommands.filter(cmd => cmd.startsWith(input.toLowerCase()));
        }

        // Resizable divider logic
        const divider = document.getElementById('divider');
        const terminalContainer = document.getElementById('terminal-container');
        const imageContainer = document.getElementById('image-container');
        let isDragging = false;

        divider.addEventListener('mousedown', (e) => {
            isDragging = true;
            document.body.style.cursor = 'ew-resize';
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const containerRect = document.getElementById('container').getBoundingClientRect();
                const minWidth = 200;
                let newTerminalWidth = e.clientX - containerRect.left;

                if (newTerminalWidth < minWidth) newTerminalWidth = minWidth;
                if (newTerminalWidth > containerRect.width - minWidth) newTerminalWidth = containerRect.width - minWidth;

                const terminalPercentage = (newTerminalWidth / containerRect.width) * 100;
                terminalContainer.style.width = `${terminalPercentage}%`;
                imageContainer.style.width = `${100 - terminalPercentage}%`;
                divider.style.left = `${terminalPercentage}%`;
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            document.body.style.cursor = 'default';
        });

        const commandInput = document.getElementById('command');
        commandInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const cmdLine = this.value.trim();
                if (cmdLine) {
                    commandHistory.push(cmdLine);
                    historyIndex = commandHistory.length;
                    appendToOutput(`┌──(kali㉿kali)-[${currentPath.replace('/home/kali', '~')}]\n└─$ ${cmdLine}`);
                    const parts = cmdLine.split(/\s+/);
                    const cmd = parts[0].toLowerCase();
                    const args = parts.slice(1);

                    if (commands[cmd]) {
                        try {
                            const output = commands[cmd](args);
                            if (output !== undefined && output !== null && output !== '') {
                                appendToOutput(output);
                            }
                        } catch (err) {
                            appendToOutput(`[-] Error executing '${cmd}': ${err.message}`, 'error');
                        }
                    } else {
                        appendToOutput(`[-] bash: ${cmd}: command not found`, 'error');
                    }
                    this.value = '';
                }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                const input = this.value.trim();
                if (input) {
                    const suggestions = getTabCompletion(input);
                    if (suggestions.length === 1) {
                        this.value = suggestions[0] + ' ';
                    } else if (suggestions.length > 1) {
                        appendToOutput(suggestions.join('  '));
                    }
                } else {
                    this.value = 'ls ';
                }
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    this.value = commandHistory[historyIndex] || '';
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    this.value = commandHistory[historyIndex];
                } else {
                    historyIndex = commandHistory.length;
                    this.value = '';
                }
            }
        });

        document.addEventListener('click', function(e) {
            commandInput.focus();
        });

        commandInput.focus();

        window.addEventListener('resize', () => {
            document.getElementById('terminal-container').style.height = '100vh';
            document.getElementById('image-container').style.height = '100vh';
            const terminalWidth = terminalContainer.offsetWidth;
            const containerWidth = document.getElementById('container').offsetWidth;
            divider.style.left = `${(terminalWidth / containerWidth) * 100}%`;
        });
    </script>
</body>
</html>
