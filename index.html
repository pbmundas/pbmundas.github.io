<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prasanna Mundas - Kali Linux Terminal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DejaVu+Sans+Mono&display=swap');

        body {
            margin: 0;
            padding: 0;
            background-color: #1a1a1a;
            color: #ffffff;
            font-family: 'DejaVu Sans Mono', 'Courier New', monospace;
            font-size: 14px;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        #container {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
        }

        #terminal-container {
            width: 50%;
            height: 100vh;
            padding: 10px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            min-width: 200px; /* Minimum width to prevent collapse */
        }

        #terminal {
            flex-grow: 1;
            padding: 10px;
            background-color: #2e3436;
            border: 2px solid #4f5b62;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            overflow-y: auto;
            overflow-x: hidden;
            word-wrap: break-word;
            word-break: break-all;
        }

        #terminal-header {
            background-color: #555753;
            color: #ffffff;
            padding: 5px 10px;
            font-size: 12px;
            border-bottom: 1px solid #4f5b62;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #terminal-header span {
            font-weight: bold;
        }

        #terminal-header .window-controls {
            display: flex;
            gap: 5px;
        }

        #terminal-header .window-controls div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .close { background-color: #ff5555; }
        .minimize { background-color: #ffaa00; }
        .maximize { background-color: #00ff00; }

        #image-container {
            width: 50%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000000;
            overflow: hidden;
            min-width: 200px; /* Minimum width to prevent collapse */
        }

        #image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        #divider {
            width: 5px;
            background-color: #4f5b62;
            cursor: ew-resize;
            height: 100%;
            position: absolute;
            left: 50%;
            z-index: 10;
        }

        #output {
            white-space: pre-wrap;
            line-height: 1.4;
            margin-bottom: 10px;
            color: #ffffff;
            word-wrap: break-word;
            word-break: break-all;
        }

        #input-line {
            display: flex;
            align-items: center;
            margin: 0;
            min-width: 0;
        }

        #prompt {
            color: #00ff00;
            white-space: pre;
            flex-shrink: 0;
        }

        #command {
            background: transparent;
            border: none;
            color: #ffffff;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            flex-grow: 1;
            caret-color: #ffffff;
            min-width: 0;
        }

        #command::placeholder {
            color: #808080;
        }

        .error {
            color: #ff5555;
        }

        .success {
            color: #00ff00;
        }

        .info {
            color: #00ffff;
        }

        .link {
            color: #ff00ff;
            text-decoration: underline;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="terminal-container">
            <div id="terminal-header">
                <span>kali@kali: Terminal</span>
                <div class="window-controls">
                    <div class="close"></div>
                    <div class="minimize"></div>
                    <div class="maximize"></div>
                </div>
            </div>
            <div id="terminal">
                <div id="output">
┌──(kali㉿kali)-[~]
└─$ Welcome to Kali Linux Terminal Emulator!

Type 'help' for available commands.
                </div>
                <div id="input-line">
                    <span id="prompt">┌──(kali㉿kali)-[~]
└─$ </span>
                    <input type="text" id="command" autofocus placeholder="Enter command...">
                </div>
            </div>
        </div>
        <div id="divider"></div>
        <div id="image-container">
            <img src="https://raw.githubusercontent.com/pbmundas/pbmundas.github.io/refs/heads/main/Prasannamundaskali.png" alt="Prasanna Mundas Image">
        </div>
    </div>

    <script>
        // Command registry
        const commands = {
            'help': () => {
                return `Available commands:
  help     - Show this help message
  ls       - List directory contents
  pwd      - Print working directory
  whoami   - Display current user
  echo     - Print arguments
  clear    - Clear the terminal screen
  date     - Show current date
  exit     - Exit the terminal (reloads page)
  
Link commands:
  attacks
  hunting
  playbooks
  blog     
  linkedin 
  whatsapp 
  website  
  mobile   
  

            },
            'ls': (args) => {
                const dir = args[0] || '';
                if (dir === '-l') {
                    return `total 48
drwxr-xr-x  5 kali kali  4096 Sep 12 10:00 .
drwxr-xr-x  3 root root  4096 Sep 12 09:00 ..
-rw-r--r--  1 kali kali  2201 Jan  6  2024 .bash_logout
-rw-r--r--  1 kali kali  3771 Jan  6  2024 .bashrc
-rw-r--r--  1 kali kali   807 Jan  6  2024 .profile
drwxr-xr-x  2 kali kali  4096 Sep 12 10:00 Desktop
drwxr-xr-x  2 kali kali  4096 Sep 12 09:00 Documents
drwxr-xr-x  2 kali kali  4096 Sep 12 09:00 Downloads`;
                }
                return `Desktop  Documents  Downloads  Music  Pictures  Templates  Videos`;
            },
            'pwd': () => '/home/kali',
            'whoami': () => {
                window.open('https://www.linkedin.com/in/prasannamundas/', '_blank');
                return ``;
            },
            'echo': (args) => args.join(' '),
            'clear': () => {
                document.getElementById('output').innerHTML = '';
                return '';
            },
            'date': () => new Date().toString(),
            'exit': () => {
                if (confirm('Exit terminal? This will reload the page.')) {
                    location.reload();
                }
                return '';
            },
            'attacks': () => {
                window.open('https://pbmundas.github.io/know-attacks-history/', '_blank');
                return `Opening Attack Navigator in new tab...`;
            },
            'hunting': () => {
                window.open('https://github.com/pbmundas/Threat-Hunting/', '_blank');
                return `Opening Threat Hunting in new tab...`;
            },
            'playbooks': () => {
                window.open('https://github.com/pbmundas/SOC-Investigation-Playbooks-for-Mitre-Techniques', '_blank');
                return `Opening Playbooks in new tab...`;
            },
            'blog': () => {
                window.open('https://blueteaming.wordpress.com', '_blank');
                return `Opening blog in new tab...`;
            },
            'linkedin': () => {
                window.open('https://www.linkedin.com/in/prasannamundas/', '_blank');
                return `Opening LinkedIn profile in new tab...`;
            },
            'whatsapp': () => {
                window.open('https://api.whatsapp.com/send/?phone=919886120777&text=Hello%20Prasanna&type=phone_number&app_absent=0', '_blank');
                return `Opening WhatsApp Web in new tab...`;
            },
            'website': () => {
                window.open('https://pbmundas.github.io', '_blank');
                return `Opening personal website in new tab...`;
            },
            'mobile': () => {
                return `Contact: +1-9886120777 (Click to call via tel: link if on mobile)
<a href="tel:+919886120777" class="link">Click here to call</a>`;
            }
        };

        // Command history
        let commandHistory = [];
        let historyIndex = -1;

        function addCommand(name, func) {
            if (typeof func !== 'function') {
                throw new Error('Custom command must be a function that takes args array and returns output string.');
            }
            commands[name] = func;
            appendToOutput(`Custom command '${name}' added successfully.`, 'success');
        }

        function appendToOutput(text, className = '') {
            const output = document.getElementById('output');
            const line = document.createElement('div');
            line.className = className;
            line.innerHTML = text;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        // Tab completion helper
        function getTabCompletion(input) {
            const availableCommands = Object.keys(commands);
            return availableCommands.filter(cmd => cmd.startsWith(input.toLowerCase()));
        }

        // Resizable divider logic
        const divider = document.getElementById('divider');
        const terminalContainer = document.getElementById('terminal-container');
        const imageContainer = document.getElementById('image-container');
        let isDragging = false;

        divider.addEventListener('mousedown', (e) => {
            isDragging = true;
            document.body.style.cursor = 'ew-resize';
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const containerRect = document.getElementById('container').getBoundingClientRect();
                const minWidth = 200; // Minimum width for both containers
                let newTerminalWidth = e.clientX - containerRect.left;

                // Constrain terminal width
                if (newTerminalWidth < minWidth) newTerminalWidth = minWidth;
                if (newTerminalWidth > containerRect.width - minWidth) newTerminalWidth = containerRect.width - minWidth;

                const terminalPercentage = (newTerminalWidth / containerRect.width) * 100;
                terminalContainer.style.width = `${terminalPercentage}%`;
                imageContainer.style.width = `${100 - terminalPercentage}%`;
                divider.style.left = `${terminalPercentage}%`;
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            document.body.style.cursor = 'default';
        });

        const commandInput = document.getElementById('command');
        commandInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const cmdLine = this.value.trim();
                if (cmdLine) {
                    commandHistory.push(cmdLine);
                    historyIndex = commandHistory.length;
                    appendToOutput(`┌──(kali㉿kali)-[~]\n└─$ ${cmdLine}`);
                    const parts = cmdLine.split(/\s+/);
                    const cmd = parts[0].toLowerCase();
                    const args = parts.slice(1);

                    if (commands[cmd]) {
                        try {
                            const output = commands[cmd](args);
                            if (output !== undefined && output !== null && output !== '') {
                                appendToOutput(output);
                            }
                        } catch (err) {
                            appendToOutput(`[-] Error executing '${cmd}': ${err.message}`, 'error');
                        }
                    } else {
                        appendToOutput(`[-] bash: ${cmd}: command not found`, 'error');
                    }
                    this.value = '';
                }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                const input = this.value.trim();
                if (input) {
                    const suggestions = getTabCompletion(input);
                    if (suggestions.length === 1) {
                        this.value = suggestions[0] + ' ';
                    } else if (suggestions.length > 1) {
                        appendToOutput(suggestions.join('  '));
                    }
                } else {
                    this.value = 'ls ';
                }
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    this.value = commandHistory[historyIndex] || '';
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    this.value = commandHistory[historyIndex];
                } else {
                    historyIndex = commandHistory.length;
                    this.value = '';
                }
            }
        });

        document.addEventListener('click', function(e) {
            commandInput.focus();
        });

        commandInput.focus();

        window.addEventListener('resize', () => {
            document.getElementById('terminal-container').style.height = '100vh';
            document.getElementById('image-container').style.height = '100vh';
            // Adjust divider position on window resize
            const terminalWidth = terminalContainer.offsetWidth;
            const containerWidth = document.getElementById('container').offsetWidth;
            divider.style.left = `${(terminalWidth / containerWidth) * 100}%`;
        });
    </script>
</body>
</html>
